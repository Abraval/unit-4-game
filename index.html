<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crystals Collector</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <div class="container">
        <div class="row py-3">
            <div class="col-5 border-0 rounded shadow my-1 bg-info text-white py-1 mx-auto text-center">
                <h1>Crystals Collector!</h1>
            </div>
        </div>
        <div class="row justify-content-center py-3">
            <div class="col-9 border rounded shadow bg-light text-dark py-1 text-left font-weight-bold"
                id="instruction">
                <p>You will be given a random number at the start of the game.</p>
                <p>There are four crystals below. By clicking on a crystal you will add a specific amount of points to
                    your total score.</p>
                <p>You win the game by matching your total score to the random number, you lose the game if your total
                    score
                    goes above the random number.</p>
                <p>The value of each crystal is hidden from you until you click on it.</p>
                <p>Each time when the game starts, the game will change the values of each crystal.</p>
            </div>
        </div>
        <div class="row justify-content-center py-1">
            <div class="col-3 border-0 rounded shadow mr-2 bg-info text-white py-2 text-left">
                <h6>Random Number: <span id="randomNum"></span></h6>
            </div>
            <div class="col-3 border-0 rounded shadow mr-2 bg-info text-white py-1 text-left">
                <h6>Your score: <span id="scores"></span></h6>
            </div>
            <div class="col-3 border-0 rounded shadow mr-2 bg-warning text-white py-1 text-left">
                <h6>Wins: <span id="wins"></span></h6>
                <h6>Losses: <span id="losses"></span></h6>
            </div>
        </div>
        <div class="row justify-content-center py-1">
            <div class="col-2 ml-2 mr-2">
                <button id="crys1" class="btn btn-info crystal">
                    <img src="assets/css/img/1.jpg" class="img-fluid img-thumbnail" id="crys1"
                        alt="Picture of crystal 1">
                </button>
            </div>
            <div class="col-2 mr-2">
                <button id="crys2" class="btn btn-primary crystal">
                    <img src="assets/css/img/2.jpg" class="img-fluid img-thumbnail" id="crys1"
                        alt="Picture of crystal 2">
                </button>
            </div>

            <div class="col-2 mr-2">
                <button id="crys3" class="btn btn-success crystal">
                    <img src="assets/css/img/3.jpg" class="img-fluid img-thumbnail" id="crys1"
                        alt="Picture of crystal 3">
                </button>
            </div>
            <div class="col-2">
                <button id="crys4" class="btn btn-danger crystal">
                    <img src="assets/css/img/4.jpg" class="img-fluid img-thumbnail" id="crys1"
                        alt="Picture of crystal 4">
                </button>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        //setting global variables

        var targetNumber = 0;
        var counter = 0;
        var wins = 0;
        $("#wins").text(wins);
        var losses = 0;
        $("#losses").text(losses);

        //this function will set the game, pick random number, pick and assign random numbers for each crystal
        function setGame() {

            targetNumber = Math.floor(Math.random() * 120) + 19;
            var crystalValue1 = Math.floor(Math.random() * 12) + 1;
            var crystalValue2 = Math.floor(Math.random() * 12) + 1;
            var crystalValue3 = Math.floor(Math.random() * 12) + 1;
            var crystalValue4 = Math.floor(Math.random() * 12) + 1;
            $("#randomNum").text(targetNumber);

            counter = 0;
            $("#scores").text(counter);

            $("#crys1").attr("value", crystalValue1);
            $("#crys2").attr("value", crystalValue2);
            $("#crys3").attr("value", crystalValue3);
            $("#crys4").attr("value", crystalValue4);

            console.log(crystalValue1);
        }
        setGame();
        
        //creating on click event that would adjust user's score based on the value of the crystal he pressed, check if total user's score matches random number that was picked. if it does - display winning alert, update wins to wins++ and reset the game; if it doesen't match - will update losses, display appropriate alert and reset the game;

        $(".crystal").on("click", function () {

            counter += parseInt($(this).attr("value"));
            $("#scores").text(counter);


            if (counter === targetNumber) {
                alert("You win!");
                wins++;
                $("#wins").text(wins);
                setGame();

            } else if (counter >= targetNumber) {
                alert("You lose!!");
                losses++;
                $("#losses").text(losses);
                setGame();
            }

        });



    </script>


</body>

</html>